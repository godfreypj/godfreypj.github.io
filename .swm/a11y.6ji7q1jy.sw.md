---
id: 6ji7q1jy
title: A11y
file_version: 1.1.3
app_version: 1.14.2
---

## summary

Added a11y tests for each component vice the PhotoGrid as it's temporary.

## CI/CD changes

Ensuring GitHub Actions runs the new accessibility tests

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ package.json
```json
61         },
62         "testMatch": [
63           "**/__tests__/**/*.[jt]s?(x)",
64           "**/?(*.)+(spec|test|a11y).[jt]s?(x)"
65         ]
```

<br/>

## Tests

Three tests were added:

*   App

    *   Had to add in those three components as we don't really want the App a11y test to test any of the children components, so they're mocked and ignored

*   Footer

    *   Super simple as it's only text

*   Header

    *   Simple but pretty straightforward, just needed to mock the props passed into header. There were minor changes to the code below

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/App.a11y.test.tsx
```tsx
1      import React from 'react';
2      import { render } from '@testing-library/react';
3      import { axe, toHaveNoViolations } from 'jest-axe';
4      import App from './app';
5      
6      // Mock the Header, Footer, and PhotoGrid components
7      const HeaderMock = () => <div>Header</div>;
8      HeaderMock.displayName = 'Header';
9      jest.mock('./components/header', () => HeaderMock);
10     
11     const FooterMock = () => <div>Footer</div>;
12     FooterMock.displayName = 'Footer';
13     jest.mock('./components/footer', () => FooterMock);
14     
15     const PhotoGridMock = () => <div>PhotoGrid</div>;
16     PhotoGridMock.displayName = 'PhotoGrid';
17     jest.mock('./components/photo-grid.component', () => PhotoGridMock);
18     
19     expect.extend(toHaveNoViolations);
20     
21     test('App component should have no accessibility violations', async () => {
22       const { container } = render(<App />);
23       const results = await axe(container);
24       expect(results).toHaveNoViolations();
25     });
```

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/components/Footer.a11y.test.tsx
```tsx
1      import React from 'react';
2      import { render } from '@testing-library/react';
3      import { axe, toHaveNoViolations } from 'jest-axe';
4      import Footer from './footer';
5      
6      expect.extend(toHaveNoViolations);
7      
8      test('Footer component should have no accessibility violations', async () => {
9        const { container } = render(<Footer />);
10       const results = await axe(container);
11       expect(results).toHaveNoViolations();
12     });
```

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/components/Header.a11y.test.tsx
```tsx
1      import React from 'react';
2      import { render } from '@testing-library/react';
3      import { axe, toHaveNoViolations } from 'jest-axe';
4      import Header from './header';
5      
6      expect.extend(toHaveNoViolations);
7      
8      test('Header component should have no accessibility violations', async () => {
9        const { container } = render(
10         <Header
11           toggleTheme={function (): void {
12             throw new Error('Function not implemented.');
13           }}
14           customColor={''}
15           lightThemeColor={''}
16         />
17       );
18       const results = await axe(container);
19       expect(results).toHaveNoViolations();
20     });
```

<br/>

## Code changes

Wrapped the Hidden component in a nav element because the direct children of the `menubar`role, the `MenuItem`s need their parent. You cannot put a `role` attribute in the `Hidden` component, hence the `nav` element.

<br/>

<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/components/Header.tsx
```tsx
54                   <nav
55                     role="menubar"
56                     className="access-menubar"
57                     style={{ display: 'flex', flexDirection: 'row' }}
58                   >
59                     <Hidden mdDown>
60                       {/* Buttons for desktop and tablet mode */}
61                       {menuItems.map((item) => (
62                         <MenuItem
63                           role="menuitem"
64                           key={item.label}
65                           onClick={item.onClick}
66                         >
67                           {item.label}
68                         </MenuItem>
69                       ))}
70                     </Hidden>
71                   </nav>
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZ29kZnJleXBqLmdpdGh1Yi5pbyUzQSUzQWdvZGZyZXlwag==/docs/6ji7q1jy).
